<html>
<head>
 <title>RBS Ruleset: latest_model_ruleset 2</title>
</head>
<body bgcolor="#FFFFFF" text="#000000">
<p>Template:  C:/Users/Emanuel/Documents/projects/riveware-modelling/Updated Models/current_model/working_ruleset_v1-DocTemplate.html<br>
RPL Set:      latest_model_ruleset 2<br>
Generated:    12:57 January 14, 2026</p>
<table border="1" cellspacing="0" cellpadding="6">
 <tr>
  <td><b>Type</b></td>
  <td><b>Name</b></td>
  <td><b>Anchor</b></td>
 </tr>
 <tr>
  <td><nobr>RBS Ruleset</nobr></td>
  <td><a href="#Latest_model_ruleset2">latest_model_ruleset 2</a></td>
  <td>Latest_model_ruleset2</td>
 </tr>
 <tr>
  <td><nobr>Policy Group</nobr></td>
  <td><a href="#GenerateOutput">Generate Output</a></td>
  <td>GenerateOutput</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#CalculateCumag_ss_delv">Calculate CumAg_ss_Delv</a></td>
  <td>CalculateCumag_ss_delv</td>
 </tr>
 <tr>
  <td><nobr>Policy Group</nobr></td>
  <td><a href="#FloodControl">Flood Control</a></td>
  <td>FloodControl</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#ACanalFloodControl">A Canal Flood Control</a></td>
  <td>ACanalFloodControl</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#NorthCanalUklFloodControl">North Canal UKL Flood Control</a></td>
  <td>NorthCanalUklFloodControl</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#NorthCanalFloodControl">North Canal Flood Control</a></td>
  <td>NorthCanalFloodControl</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#AdyCanalUklFloodControl">Ady Canal UKL Flood Control</a></td>
  <td>AdyCanalUklFloodControl</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#AdyCanalFloodControl">Ady Canal Flood Control</a></td>
  <td>AdyCanalFloodControl</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#Sta48MhUklFloodControl">Sta48 MH UKL Flood Control</a></td>
  <td>Sta48MhUklFloodControl</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#Sta48MhFloodControl">Sta48 MH Flood Control</a></td>
  <td>Sta48MhFloodControl</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#UpdateKenoOutflow">Update Keno Outflow</a></td>
  <td>UpdateKenoOutflow</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#UpdateUklFloodRelease">Update UKL Flood Release</a></td>
  <td>UpdateUklFloodRelease</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#debug">debug</a></td>
  <td>debug</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#debug1">debug1</a></td>
  <td>debug1</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#ReleasesToTheRiver">releases to the river</a></td>
  <td>ReleasesToTheRiver</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#UklFloodControl">UKL flood control</a></td>
  <td>UklFloodControl</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#KenoFloodControl">Keno Flood Control</a></td>
  <td>KenoFloodControl</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#FloodControlOutflowTest">Flood Control Outflow Test</a></td>
  <td>FloodControlOutflowTest</td>
 </tr>
 <tr>
  <td><nobr>Policy Group</nobr></td>
  <td><a href="#KenoRuleSet">Keno rule set</a></td>
  <td>KenoRuleSet</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#KenoElevation">Keno Elevation</a></td>
  <td>KenoElevation</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#KenoRampdownRates">Keno Rampdown Rates</a></td>
  <td>KenoRampdownRates</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#KenoTargetedRelease">Keno Targeted Release</a></td>
  <td>KenoTargetedRelease</td>
 </tr>
 <tr>
  <td><nobr>Policy Group</nobr></td>
  <td><a href="#IndexesAndDailyCalculators">Indexes and daily calculators</a></td>
  <td>IndexesAndDailyCalculators</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#OpsIndexAndLogs">Ops Index and Logs</a></td>
  <td>OpsIndexAndLogs</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#LakeIndex">Lake Index</a></td>
  <td>LakeIndex</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#ShadowStorage">Shadow Storage</a></td>
  <td>ShadowStorage</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#14DayNwiAverage">14 day NWI average</a></td>
  <td>14DayNwiAverage</td>
 </tr>
 <tr>
  <td><nobr>Policy Group</nobr></td>
  <td><a href="#DiversionRules">Diversion Rules</a></td>
  <td>DiversionRules</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#NorthCanalFwSsDiversion">North Canal FW SS Diversion</a></td>
  <td>NorthCanalFwSsDiversion</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#NorthCanalFfDiversion">North Canal FF Diversion</a></td>
  <td>NorthCanalFfDiversion</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#NorthCanalLrdcDiversion">North Canal LRDC Diversion</a></td>
  <td>NorthCanalLrdcDiversion</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#NorthCanalUklDiversion">North Canal UKL Diversion</a></td>
  <td>NorthCanalUklDiversion</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#AdyCanalFfDiversion">Ady Canal FF Diversion</a></td>
  <td>AdyCanalFfDiversion</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#AdyCanalLrdcDiversion">Ady Canal LRDC Diversion</a></td>
  <td>AdyCanalLrdcDiversion</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#AdyCanalFwSsDiversion">Ady Canal FW SS Diversion</a></td>
  <td>AdyCanalFwSsDiversion</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#AdyCanalUklDiversion">Ady Canal UKL Diversion</a></td>
  <td>AdyCanalUklDiversion</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#Sta48AndMhFromLostFfDiversion">Sta48 and MH from Lost FF Diversion</a></td>
  <td>Sta48AndMhFromLostFfDiversion</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#Sta48AndMhFromLostUkldiversion">Sta48 and MH from Lost UKLDiversion</a></td>
  <td>Sta48AndMhFromLostUkldiversion</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#Sta48AndMhFromLostLrdcDiversion">Sta48 and MH from Lost LRDC Diversion</a></td>
  <td>Sta48AndMhFromLostLrdcDiversion</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#ACanalDiversion">A Canal Diversion</a></td>
  <td>ACanalDiversion</td>
 </tr>
 <tr>
  <td><nobr>Policy Group</nobr></td>
  <td><a href="#FFA">FFA</a></td>
  <td>FFA</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#FfaAccounting">FFA Accounting</a></td>
  <td>FfaAccounting</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#FfaDebug">ffa debug</a></td>
  <td>FfaDebug</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#yest_FFA_Usage">yest_FFA_Usage</a></td>
  <td>yest_FFA_Usage</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#FfaDownstreamDistribution">FFA Downstream Distribution</a></td>
  <td>FfaDownstreamDistribution</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#FfaIncrementDebug">FFA Increment Debug</a></td>
  <td>FfaIncrementDebug</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#FfaStorageAndRelease">FFA storage and release</a></td>
  <td>FfaStorageAndRelease</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#YestFfaSpill">Yest FFA Spill</a></td>
  <td>YestFfaSpill</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#FfaDebug">FFA Debug</a></td>
  <td>FfaDebug</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#YestFfaSavings">Yest FFA Savings</a></td>
  <td>YestFfaSavings</td>
 </tr>
 <tr>
  <td><nobr>Policy Group</nobr></td>
  <td><a href="#DeferredProjectSupplyAccounting">Deferred Project Supply Accounting</a></td>
  <td>DeferredProjectSupplyAccounting</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#DpsAccounting">DPS accounting</a></td>
  <td>DpsAccounting</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#Yest_dpsSpillV1">Yest_DPS Spill v1</a></td>
  <td>Yest_dpsSpillV1</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#Yest_Prj_Div_DPS">Yest_Prj_Div_DPS</a></td>
  <td>Yest_Prj_Div_DPS</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#yes_Refuge_Div">yes_Refuge_Div</a></td>
  <td>yes_Refuge_Div</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#YesterdaysFlowSavings">yesterday's Flow Savings</a></td>
  <td>YesterdaysFlowSavings</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#CalculateProjectDiversionFraction">Calculate Project Diversion Fraction</a></td>
  <td>CalculateProjectDiversionFraction</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#SetBeginningOfDayDpsa">Set Beginning of Day DPSA</a></td>
  <td>SetBeginningOfDayDpsa</td>
 </tr>
 <tr>
  <td><nobr>Policy Group</nobr></td>
  <td><a href="#ProjectRules">Project Rules</a></td>
  <td>ProjectRules</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#CalculateProjectSupply">Calculate Project Supply</a></td>
  <td>CalculateProjectSupply</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#CalculateCumulativeAgDiversion">Calculate Cumulative Ag Diversion</a></td>
  <td>CalculateCumulativeAgDiversion</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#VariableProjectSupplyInflow">Variable Project Supply Inflow</a></td>
  <td>VariableProjectSupplyInflow</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#ProjectSupplyFromStorage">Project Supply From Storage</a></td>
  <td>ProjectSupplyFromStorage</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#CalculateFirmProjectSupply(inflowStorage)">Calculate Firm Project Supply (Inflow + Storage)</a></td>
  <td>CalculateFirmProjectSupply(inflowStorage)</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#FirmProjectSupplyFromInflow">Firm Project Supply From Inflow</a></td>
  <td>FirmProjectSupplyFromInflow</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#CalculateProjectMultiplier">Calculate Project Multiplier</a></td>
  <td>CalculateProjectMultiplier</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#PercentrankFunctionTest">PercentRank function test</a></td>
  <td>PercentrankFunctionTest</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#FirmProjectSupplyFromStorage">Firm Project Supply From Storage</a></td>
  <td>FirmProjectSupplyFromStorage</td>
 </tr>
 <tr>
  <td><nobr>Policy Group</nobr></td>
  <td><a href="#RefugeRules">Refuge Rules</a></td>
  <td>RefugeRules</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#RefugeAllocation">Refuge Allocation </a></td>
  <td>RefugeAllocation</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#LknwrCredit">LKNWR Credit</a></td>
  <td>LknwrCredit</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#LknwrAllocations">LKNWR Allocations</a></td>
  <td>LknwrAllocations</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#AdyToRefuge(lknwr)DailyDiversionRequest">Ady To Refuge (LKNWR) Daily Diversion Request</a></td>
  <td>AdyToRefuge(lknwr)DailyDiversionRequest</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#Sta48ToTlnwrDailyDiversionRequest">Sta 48 to TLNWR Daily Diversion Request</a></td>
  <td>Sta48ToTlnwrDailyDiversionRequest</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#RefugeCumulativeDelivered">Refuge Cumulative Delivered</a></td>
  <td>RefugeCumulativeDelivered</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#CalculateCumulativeDelivery">Calculate Cumulative Delivery</a></td>
  <td>CalculateCumulativeDelivery</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#CalculateEvaporation(outflow)">Calculate Evaporation (Outflow)</a></td>
  <td>CalculateEvaporation(outflow)</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#DailyLknwrEvaporation">Daily LKNWR Evaporation</a></td>
  <td>DailyLknwrEvaporation</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#DailyTuleSumpsEvaporation">Daily Tule Sumps Evaporation</a></td>
  <td>DailyTuleSumpsEvaporation</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#GetDaysInMonth">get days in month</a></td>
  <td>GetDaysInMonth</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#RefugeDemand">Refuge Demand</a></td>
  <td>RefugeDemand</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#CalculateLknwrArea">Calculate LKNWR Area</a></td>
  <td>CalculateLknwrArea</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#CalculateTuleSumpsArea">Calculate Tule Sumps Area</a></td>
  <td>CalculateTuleSumpsArea</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#SetRefugeDiversionValue">Set Refuge Diversion Value</a></td>
  <td>SetRefugeDiversionValue</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#RefugeDiversions">Refuge Diversions</a></td>
  <td>RefugeDiversions</td>
 </tr>
 <tr>
  <td><nobr>Policy Group</nobr></td>
  <td><a href="#SeasonalState">Seasonal State</a></td>
  <td>SeasonalState</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#TlnwrSeasonalCumulativeMax">TLNWR Seasonal Cumulative Max</a></td>
  <td>TlnwrSeasonalCumulativeMax</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#TlnwrSeasonalDailyCap">TLNWR Seasonal Daily Cap</a></td>
  <td>TlnwrSeasonalDailyCap</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#LknwrSeaonsalCumulativeMax">LKNWR Seaonsal Cumulative Max</a></td>
  <td>LknwrSeaonsalCumulativeMax</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#LknwrSeasonalDailyCap">LKNWR Seasonal Daily Cap</a></td>
  <td>LknwrSeasonalDailyCap</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#SetCumulativeMax">Set Cumulative Max</a></td>
  <td>SetCumulativeMax</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#SetRefugeSeasonalDailyCap">Set Refuge Seasonal Daily Cap</a></td>
  <td>SetRefugeSeasonalDailyCap</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#MirrorSpillStatus">Mirror Spill Status</a></td>
  <td>MirrorSpillStatus</td>
 </tr>
 <tr>
  <td><nobr>Policy Group</nobr></td>
  <td><a href="#VariousSlot-settingRules">Various Slot-setting Rules</a></td>
  <td>VariousSlot-settingRules</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#InflowAndDiversionRateRules">Inflow and Diversion Rate rules</a></td>
  <td>InflowAndDiversionRateRules</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#DiversionAndReturnFlowSlotSetting">Diversion and return flow slot setting</a></td>
  <td>DiversionAndReturnFlowSlotSetting</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#ProjectContributionsToKenoFlows">Project Contributions to Keno Flows</a></td>
  <td>ProjectContributionsToKenoFlows</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#DiversionAndMultiOutflowTest">Diversion and Multi outflow test</a></td>
  <td>DiversionAndMultiOutflowTest</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#C13_excRule">c13_exc Rule</a></td>
  <td>C13_excRule</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#C1_excRule">c1_exc Rule</a></td>
  <td>C1_excRule</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#RampDownRates">Ramp down rates</a></td>
  <td>RampDownRates</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#AssigningACanalDiversionRequest">Assigning A Canal Diversion Request</a></td>
  <td>AssigningACanalDiversionRequest</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#PlaceHolderValues">Place Holder Values</a></td>
  <td>PlaceHolderValues</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#SetKlamathToLrdcDivReq">Set Klamath to LRDC Div Req</a></td>
  <td>SetKlamathToLrdcDivReq</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#AssigningHistoricalValues">Assigning Historical Values</a></td>
  <td>AssigningHistoricalValues</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#WilsonDamToTuleDiversionRequest">Wilson Dam to  Tule Diversion Request</a></td>
  <td>WilsonDamToTuleDiversionRequest</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#AdyCanalDiversionRequest">Ady Canal Diversion Request</a></td>
  <td>AdyCanalDiversionRequest</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#AdyCanalToProject">Ady Canal to Project</a></td>
  <td>AdyCanalToProject</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#KenoBaseOutflow">Keno Base Outflow</a></td>
  <td>KenoBaseOutflow</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#NorthCanalDiversionRequest">North Canal Diversion Request</a></td>
  <td>NorthCanalDiversionRequest</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#Sta48AndMhDiversionRequest">Sta48 and MH Diversion Request</a></td>
  <td>Sta48AndMhDiversionRequest</td>
 </tr>
 <tr>
  <td><nobr>Rule</nobr></td>
  <td><a href="#SetDiversionPlaceholderValues">Set Diversion Placeholder Values</a></td>
  <td>SetDiversionPlaceholderValues</td>
 </tr>
 <tr>
  <td><nobr>Utility Group</nobr></td>
  <td><a href="#IndexAndCountersGroup">Index and counters Group</a></td>
  <td>IndexAndCountersGroup</td>
 </tr>
 <tr>
  <td><nobr>Function</nobr></td>
  <td><a href="#FloodSeason">Flood Season</a></td>
  <td>FloodSeason</td>
 </tr>
 <tr>
  <td><nobr>Function</nobr></td>
  <td><a href="#KenoReleaseMultiplier">KenoReleaseMultiplier</a></td>
  <td>KenoReleaseMultiplier</td>
 </tr>
 <tr>
  <td><nobr>Function</nobr></td>
  <td><a href="#SpringSummerAgSeason">SpringSummerAgSeason</a></td>
  <td>SpringSummerAgSeason</td>
 </tr>
 <tr>
  <td><nobr>Function</nobr></td>
  <td><a href="#DateCounter">Date Counter</a></td>
  <td>DateCounter</td>
 </tr>
 <tr>
  <td><nobr>Utility Group</nobr></td>
  <td><a href="#FlexibleFlowAccountAndProjectSupply">Flexible Flow Account and Project Supply</a></td>
  <td>FlexibleFlowAccountAndProjectSupply</td>
 </tr>
 <tr>
  <td><nobr>Function</nobr></td>
  <td><a href="#FfaReserveLookup">FFA reserve Lookup</a></td>
  <td>FfaReserveLookup</td>
 </tr>
 <tr>
  <td><nobr>Function</nobr></td>
  <td><a href="#FfaIncrement">FFA increment</a></td>
  <td>FfaIncrement</td>
 </tr>
 <tr>
  <td><nobr>Function</nobr></td>
  <td><a href="#YesterdaysFfaSaving">Yesterday's FFA Saving</a></td>
  <td>YesterdaysFfaSaving</td>
 </tr>
 <tr>
  <td><nobr>Function</nobr></td>
  <td><a href="#FractionalDiversionOfDps">Fractional Diversion of DPS</a></td>
  <td>FractionalDiversionOfDps</td>
 </tr>
 <tr>
  <td><nobr>Function</nobr></td>
  <td><a href="#VariableSupplyFunction">Variable Supply function</a></td>
  <td>VariableSupplyFunction</td>
 </tr>
 <tr>
  <td><nobr>Function</nobr></td>
  <td><a href="#C1_exc">C1_exc</a></td>
  <td>C1_exc</td>
 </tr>
 <tr>
  <td><nobr>Function</nobr></td>
  <td><a href="#c13_exc">c13_exc</a></td>
  <td>c13_exc</td>
 </tr>
</table>
<a name="Latest_model_ruleset2"></a>
<h2>RBS Ruleset: latest_model_ruleset 2</h2>
<p>  Full name: latest_model_ruleset 2</p>
<p>&nbsp;</p>

<a name="GenerateOutput"></a>
<h2>Policy Group: Generate Output</h2>
<p>&nbsp;</p>

<a name="CalculateCumag_ss_delv"></a>
<h2>Rule: Calculate CumAg_ss_Delv</h2>
<p>&nbsp;</p>

<a name="FloodControl"></a>
<h2>Policy Group: Flood Control</h2>
<p>&nbsp;</p>

<a name="ACanalFloodControl"></a>
<h2>Rule: A Canal Flood Control</h2>
<p>&nbsp;</p>

<a name="NorthCanalUklFloodControl"></a>
<h2>Rule: North Canal UKL Flood Control</h2>
<p>&nbsp;</p>

<a name="NorthCanalFloodControl"></a>
<h2>Rule: North Canal Flood Control</h2>
<p>&nbsp;</p>

<a name="AdyCanalUklFloodControl"></a>
<h2>Rule: Ady Canal UKL Flood Control</h2>
<p>&nbsp;</p>

<a name="AdyCanalFloodControl"></a>
<h2>Rule: Ady Canal Flood Control</h2>
<p>&nbsp;</p>

<a name="Sta48MhUklFloodControl"></a>
<h2>Rule: Sta48 MH UKL Flood Control</h2>
<p>&nbsp;</p>

<a name="Sta48MhFloodControl"></a>
<h2>Rule: Sta48 MH Flood Control</h2>
<p>&nbsp;</p>

<a name="UpdateKenoOutflow"></a>
<h2>Rule: Update Keno Outflow</h2>
<p>&nbsp;</p>

<a name="UpdateUklFloodRelease"></a>
<h2>Rule: Update UKL Flood Release</h2>
<p>&nbsp;</p>

<a name="debug"></a>
<h2>Rule: debug</h2>
<p>&nbsp;</p>

<a name="debug1"></a>
<h2>Rule: debug1</h2>
<p>&nbsp;</p>

<a name="ReleasesToTheRiver"></a>
<h2>Rule: releases to the river</h2>
<p>&nbsp;</p>

<a name="UklFloodControl"></a>
<h2>Rule: UKL flood control</h2>
<p>&nbsp;</p>

<a name="KenoFloodControl"></a>
<h2>Rule: Keno Flood Control</h2>
<p>&nbsp;</p>

<a name="FloodControlOutflowTest"></a>
<h2>Rule: Flood Control Outflow Test</h2>
<p>&nbsp;</p>

<a name="KenoRuleSet"></a>
<h2>Policy Group: Keno rule set</h2>
<p>&nbsp;</p>

<a name="KenoElevation"></a>
<h2>Rule: Keno Elevation</h2>
<p>&nbsp;</p>

<a name="KenoRampdownRates"></a>
<h2>Rule: Keno Rampdown Rates</h2>
<p>&nbsp;</p>

<a name="KenoTargetedRelease"></a>
<h2>Rule: Keno Targeted Release</h2>
<p>&nbsp;</p>

<a name="IndexesAndDailyCalculators"></a>
<h2>Policy Group: Indexes and daily calculators</h2>
<p>&nbsp;</p>

<a name="OpsIndexAndLogs"></a>
<h2>Rule: Ops Index and Logs</h2>
<p>&nbsp;</p>

<a name="LakeIndex"></a>
<h2>Rule: Lake Index</h2>
<p>Records the lake index value at a slot within the Upper Klamath Lake Object<br>Formula current (and incorrectly) uses actual lake elevation. Need in incorporate shadow levels once DPS and FFA account is in place.</p>

<a name="ShadowStorage"></a>
<h2>Rule: Shadow Storage</h2>
<p>&nbsp;</p>

<a name="14DayNwiAverage"></a>
<h2>Rule: 14 day NWI average</h2>
<p>&nbsp;</p>

<a name="DiversionRules"></a>
<h2>Policy Group: Diversion Rules</h2>
<p>&nbsp;</p>

<a name="NorthCanalFwSsDiversion"></a>
<h2>Rule: North Canal FW SS Diversion</h2>
<p>&nbsp;</p>

<a name="NorthCanalFfDiversion"></a>
<h2>Rule: North Canal FF Diversion</h2>
<p>&nbsp;</p>

<a name="NorthCanalLrdcDiversion"></a>
<h2>Rule: North Canal LRDC Diversion</h2>
<p>&nbsp;</p>

<a name="NorthCanalUklDiversion"></a>
<h2>Rule: North Canal UKL Diversion</h2>
<p>&nbsp;</p>

<a name="AdyCanalFfDiversion"></a>
<h2>Rule: Ady Canal FF Diversion</h2>
<p>&nbsp;</p>

<a name="AdyCanalLrdcDiversion"></a>
<h2>Rule: Ady Canal LRDC Diversion</h2>
<p>&nbsp;</p>

<a name="AdyCanalFwSsDiversion"></a>
<h2>Rule: Ady Canal FW SS Diversion</h2>
<p>&nbsp;</p>

<a name="AdyCanalUklDiversion"></a>
<h2>Rule: Ady Canal UKL Diversion</h2>
<p>&nbsp;</p>

<a name="Sta48AndMhFromLostFfDiversion"></a>
<h2>Rule: Sta48 and MH from Lost FF Diversion</h2>
<p>&nbsp;</p>

<a name="Sta48AndMhFromLostUkldiversion"></a>
<h2>Rule: Sta48 and MH from Lost UKLDiversion</h2>
<p>&nbsp;</p>

<a name="Sta48AndMhFromLostLrdcDiversion"></a>
<h2>Rule: Sta48 and MH from Lost LRDC Diversion</h2>
<p>&nbsp;</p>

<a name="ACanalDiversion"></a>
<h2>Rule: A Canal Diversion</h2>
<p>&nbsp;</p>

<a name="FFA"></a>
<h2>Policy Group: FFA</h2>
<p>&nbsp;</p>

<a name="FfaAccounting"></a>
<h2>Rule: FFA Accounting</h2>
<p>&nbsp;</p>

<a name="FfaDebug"></a>
<h2>Rule: ffa debug</h2>
<p>&nbsp;</p>

<a name="yest_FFA_Usage"></a>
<h2>Rule: yest_FFA_Usage</h2>
<p>&nbsp;</p>

<a name="FfaDownstreamDistribution"></a>
<h2>Rule: FFA Downstream Distribution</h2>
<p>&nbsp;</p>

<a name="FfaIncrementDebug"></a>
<h2>Rule: FFA Increment Debug</h2>
<p>&nbsp;</p>

<a name="FfaStorageAndRelease"></a>
<h2>Rule: FFA storage and release</h2>
<p>&nbsp;</p>

<a name="YestFfaSpill"></a>
<h2>Rule: Yest FFA Spill</h2>
<p>&nbsp;</p>

<a name="FfaDebug"></a>
<h2>Rule: FFA Debug</h2>
<p>&nbsp;</p>

<a name="YestFfaSavings"></a>
<h2>Rule: Yest FFA Savings</h2>
<p>&nbsp;</p>

<a name="DeferredProjectSupplyAccounting"></a>
<h2>Policy Group: Deferred Project Supply Accounting</h2>
<p>&nbsp;</p>

<a name="DpsAccounting"></a>
<h2>Rule: DPS accounting</h2>
<p>&nbsp;</p>

<a name="Yest_dpsSpillV1"></a>
<h2>Rule: Yest_DPS Spill v1</h2>
<p>&nbsp;</p>

<a name="Yest_Prj_Div_DPS"></a>
<h2>Rule: Yest_Prj_Div_DPS</h2>
<p>&nbsp;</p>

<a name="yes_Refuge_Div"></a>
<h2>Rule: yes_Refuge_Div</h2>
<p>&nbsp;</p>

<a name="YesterdaysFlowSavings"></a>
<h2>Rule: yesterday's Flow Savings</h2>
<p>&nbsp;</p>

<a name="CalculateProjectDiversionFraction"></a>
<h2>Rule: Calculate Project Diversion Fraction</h2>
<p>&nbsp;</p>

<a name="SetBeginningOfDayDpsa"></a>
<h2>Rule: Set Beginning of Day DPSA</h2>
<p>&nbsp;</p>

<a name="ProjectRules"></a>
<h2>Policy Group: Project Rules</h2>
<p>&nbsp;</p>

<a name="CalculateProjectSupply"></a>
<h2>Rule: Calculate Project Supply</h2>
<p>&nbsp;</p>

<a name="CalculateCumulativeAgDiversion"></a>
<h2>Rule: Calculate Cumulative Ag Diversion</h2>
<p>&nbsp;</p>

<a name="VariableProjectSupplyInflow"></a>
<h2>Rule: Variable Project Supply Inflow</h2>
<p>&nbsp;</p>

<a name="ProjectSupplyFromStorage"></a>
<h2>Rule: Project Supply From Storage</h2>
<p>&nbsp;</p>

<a name="CalculateFirmProjectSupply(inflowStorage)"></a>
<h2>Rule: Calculate Firm Project Supply (Inflow + Storage)</h2>
<p>&nbsp;</p>

<a name="FirmProjectSupplyFromInflow"></a>
<h2>Rule: Firm Project Supply From Inflow</h2>
<p>&nbsp;</p>

<a name="CalculateProjectMultiplier"></a>
<h2>Rule: Calculate Project Multiplier</h2>
<p>&nbsp;</p>

<a name="PercentrankFunctionTest"></a>
<h2>Rule: PercentRank function test</h2>
<p>&nbsp;</p>

<a name="FirmProjectSupplyFromStorage"></a>
<h2>Rule: Firm Project Supply From Storage</h2>
<p>&nbsp;</p>

<a name="RefugeRules"></a>
<h2>Policy Group: Refuge Rules</h2>
<p>&nbsp;</p>

<a name="RefugeAllocation"></a>
<h2>Rule: Refuge Allocation </h2>
<p>Purpose: Cover LKNWR need from Dedicated UKL within today?s allowance.<br>Reads: RefugeDemand.LKNWR, AllowedToday. Optional: Ady capacity if you enforce hydraulics here.<br>Writes: a working allocation variable (e.g., Alloc.LKNWR.UKLded (AF/d)), or write directly to Ady request later.<br>Logic: UseDedicated = min(Need, AllowedToday); Remaining = Need - UseDedicated.<br>Notes: If you track combined deliveries for both refuges, this rule contributes only LKNWRs portion to the combined tally (see Rule 4.1).<br><br>Purpose: If LKNWR still needs water, allow DPS Spill only after Ag diversions are satisfied.<br>Reads: Remaining from Rule 3.2; a DPS Spill availability series for ?after Ag? (e.g., DPS.AfterAg.Available (AF/d)).<br>Writes: working allocation Alloc.LKNWR.DPSspill (AF/d).<br>Logic: If DPS.AfterAg.Available &gt; 0: UseDPS = min(Remaining, DPS.AfterAg.Available); update Remaining.<br>Notes: This rule does not accrue DPSA; its a debit from DPSA (accounted later).</p>

<a name="LknwrCredit"></a>
<h2>Rule: LKNWR Credit</h2>
<p>&nbsp;</p>

<a name="LknwrAllocations"></a>
<h2>Rule: LKNWR Allocations</h2>
<p>&nbsp;</p>

<a name="AdyToRefuge(lknwr)DailyDiversionRequest"></a>
<h2>Rule: Ady To Refuge (LKNWR) Daily Diversion Request</h2>
<p>&nbsp;</p>

<a name="Sta48ToTlnwrDailyDiversionRequest"></a>
<h2>Rule: Sta 48 to TLNWR Daily Diversion Request</h2>
<p>&nbsp;</p>

<a name="RefugeCumulativeDelivered"></a>
<h2>Rule: Refuge Cumulative Delivered</h2>
<p>&nbsp;</p>

<a name="CalculateCumulativeDelivery"></a>
<h2>Rule: Calculate Cumulative Delivery</h2>
<p>&nbsp;</p>

<a name="CalculateEvaporation(outflow)"></a>
<h2>Rule: Calculate Evaporation (Outflow)</h2>
<p>&nbsp;</p>

<a name="DailyLknwrEvaporation"></a>
<h2>Rule: Daily LKNWR Evaporation</h2>
<p>&nbsp;</p>

<a name="DailyTuleSumpsEvaporation"></a>
<h2>Rule: Daily Tule Sumps Evaporation</h2>
<p>&nbsp;</p>

<a name="GetDaysInMonth"></a>
<h2>Rule: get days in month</h2>
<p>&nbsp;</p>

<a name="RefugeDemand"></a>
<h2>Rule: Refuge Demand</h2>
<p>Compute LKNWR need max<br>Purpose: Today?s required volume to hold Unit 2 at its target level.<br>Reads: Unit 2 current storage/elevation; target elev table; expected daily losses  and inflows.</p>

<a name="CalculateLknwrArea"></a>
<h2>Rule: Calculate LKNWR Area</h2>
<p>&nbsp;</p>

<a name="CalculateTuleSumpsArea"></a>
<h2>Rule: Calculate Tule Sumps Area</h2>
<p>&nbsp;</p>

<a name="SetRefugeDiversionValue"></a>
<h2>Rule: Set Refuge Diversion Value</h2>
<p>&nbsp;</p>

<a name="RefugeDiversions"></a>
<h2>Rule: Refuge Diversions</h2>
<p>&nbsp;</p>

<a name="SeasonalState"></a>
<h2>Policy Group: Seasonal State</h2>
<p>Purpose: Enforce  can t deliver faster than uniform rate  and the 43,000 AF seasonal cap (combined refuges).<br>Reads: Date (month/day).<br>Writes: DedicatedRefuge.DailyCap (AF/d), DedicatedRefuge.CumMax (AF).<br>Logic:<br><br>If Apr Oct: DailyCap = 43,000 / 214   200.9346 AF/d.<br><br>CumMax = min(43,000, days_since_Apr1_inclusive   DailyCap).<br><br>Else (Nov Mar): set both to 0.<br>Notes: This rule doesn t deliver water; it just prepares the cap curve for today</p>

<a name="TlnwrSeasonalCumulativeMax"></a>
<h2>Rule: TLNWR Seasonal Cumulative Max</h2>
<p>&nbsp;</p>

<a name="TlnwrSeasonalDailyCap"></a>
<h2>Rule: TLNWR Seasonal Daily Cap</h2>
<p>&nbsp;</p>

<a name="LknwrSeaonsalCumulativeMax"></a>
<h2>Rule: LKNWR Seaonsal Cumulative Max</h2>
<p>&nbsp;</p>

<a name="LknwrSeasonalDailyCap"></a>
<h2>Rule: LKNWR Seasonal Daily Cap</h2>
<p>&nbsp;</p>

<a name="SetCumulativeMax"></a>
<h2>Rule: Set Cumulative Max</h2>
<p>&nbsp;</p>

<a name="SetRefugeSeasonalDailyCap"></a>
<h2>Rule: Set Refuge Seasonal Daily Cap</h2>
<p>Purpose: Enforce  can t deliver faster than uniform rate  and the 43,000 AF seasonal cap (combined refuges).<br>Reads: Date (month/day).<br>Writes: DedicatedRefuge.DailyCap (AF/d), DedicatedRefuge.CumMax (AF).<br>Logic:<br><br>If Apr Oct: DailyCap = 43,000 / 214   200.9346 AF/d.<br><br>CumMax = min(43,000, days_since_Apr1_inclusive   DailyCap).<br><br>Else (Nov Mar): set both to 0.<br>Notes: This rule doesn t deliver water; it just prepares the cap curve for today</p>

<a name="MirrorSpillStatus"></a>
<h2>Rule: Mirror Spill Status</h2>
<p>&nbsp;</p>

<a name="VariousSlot-settingRules"></a>
<h2>Policy Group: Various Slot-setting Rules</h2>
<p>&nbsp;</p>

<a name="InflowAndDiversionRateRules"></a>
<h2>Rule: Inflow and Diversion Rate rules</h2>
<p>&nbsp;</p>

<a name="DiversionAndReturnFlowSlotSetting"></a>
<h2>Rule: Diversion and return flow slot setting</h2>
<p>&nbsp;</p>

<a name="ProjectContributionsToKenoFlows"></a>
<h2>Rule: Project Contributions to Keno Flows</h2>
<p>&nbsp;</p>

<a name="DiversionAndMultiOutflowTest"></a>
<h2>Rule: Diversion and Multi outflow test</h2>
<p>&nbsp;</p>

<a name="C13_excRule"></a>
<h2>Rule: c13_exc Rule</h2>
<p>&nbsp;</p>

<a name="C1_excRule"></a>
<h2>Rule: c1_exc Rule</h2>
<p>&nbsp;</p>

<a name="RampDownRates"></a>
<h2>Rule: Ramp down rates</h2>
<p>&nbsp;</p>

<a name="AssigningACanalDiversionRequest"></a>
<h2>Rule: Assigning A Canal Diversion Request</h2>
<p>&nbsp;</p>

<a name="PlaceHolderValues"></a>
<h2>Rule: Place Holder Values</h2>
<p>&nbsp;</p>

<a name="SetKlamathToLrdcDivReq"></a>
<h2>Rule: Set Klamath to LRDC Div Req</h2>
<p>&nbsp;</p>

<a name="AssigningHistoricalValues"></a>
<h2>Rule: Assigning Historical Values</h2>
<p>&nbsp;</p>

<a name="WilsonDamToTuleDiversionRequest"></a>
<h2>Rule: Wilson Dam to  Tule Diversion Request</h2>
<p>&nbsp;</p>

<a name="AdyCanalDiversionRequest"></a>
<h2>Rule: Ady Canal Diversion Request</h2>
<p>&nbsp;</p>

<a name="AdyCanalToProject"></a>
<h2>Rule: Ady Canal to Project</h2>
<p>&nbsp;</p>

<a name="KenoBaseOutflow"></a>
<h2>Rule: Keno Base Outflow</h2>
<p>&nbsp;</p>

<a name="NorthCanalDiversionRequest"></a>
<h2>Rule: North Canal Diversion Request</h2>
<p>&nbsp;</p>

<a name="Sta48AndMhDiversionRequest"></a>
<h2>Rule: Sta48 and MH Diversion Request</h2>
<p>&nbsp;</p>

<a name="SetDiversionPlaceholderValues"></a>
<h2>Rule: Set Diversion Placeholder Values</h2>
<p>&nbsp;</p>

<a name="IndexAndCountersGroup"></a>
<h2>Utility Group: Index and counters Group</h2>
<p>&nbsp;</p>

<a name="FloodSeason"></a>
<h2>Function: Flood Season</h2>
<p>Sets Period of time when flood control is operation</p>

<a name="KenoReleaseMultiplier"></a>
<h2>Function: KenoReleaseMultiplier</h2>
<p>&nbsp;</p>

<a name="SpringSummerAgSeason"></a>
<h2>Function: SpringSummerAgSeason</h2>
<p>&nbsp;</p>

<a name="DateCounter"></a>
<h2>Function: Date Counter</h2>
<p>Counts the number of days between two dates. Date 1 is the first date, date 2 is the second date ( after).</p>

<a name="FlexibleFlowAccountAndProjectSupply"></a>
<h2>Utility Group: Flexible Flow Account and Project Supply</h2>
<p>&nbsp;</p>

<a name="FfaReserveLookup"></a>
<h2>Function: FFA reserve Lookup</h2>
<p>&nbsp;</p>

<a name="FfaIncrement"></a>
<h2>Function: FFA increment</h2>
<p>&nbsp;</p>

<a name="YesterdaysFfaSaving"></a>
<h2>Function: Yesterday's FFA Saving</h2>
<p>&nbsp;</p>

<a name="FractionalDiversionOfDps"></a>
<h2>Function: Fractional Diversion of DPS</h2>
<p>&nbsp;</p>

<a name="VariableSupplyFunction"></a>
<h2>Function: Variable Supply function</h2>
<p>&nbsp;</p>

<a name="C1_exc"></a>
<h2>Function: C1_exc</h2>
<p>&nbsp;</p>

<a name="c13_exc"></a>
<h2>Function: c13_exc</h2>
<p>&nbsp;</p>

<p>---</p>
</body>
</html>

